{% extends "dashboard.html" %}


{% block head %}
    <li class="active">
        <a href="{% url "article_list" %}"><i class="fa fa-book"></i> <span
                class="nav-label">文章管理</span>
        </a>
        <span class="fa arrow"></span>   {# 向下箭头 #}
{#        <ul class="nav nav-second-level collapse">#}
{#            <li><a href="{% url "article_add" %}">新增文章 <i class="fa-arrow-down "></i> </a></li>#}
{#            <li><a href="dashboard_2.html">Dashboard v.2</a></li>#}
{#            <li><a href="dashboard_3.html">Dashboard v.3</a></li>#}
{#            <li><a href="dashboard_4_1.html">Dashboard v.4</a></li>#}
{#            <li><a href="dashboard_5.html">Dashboard v.5 <span#}
{#                    class="label label-primary pull-right">NEW</span></a></li>#}
{#        </ul>#}
    </li>
    <li>
        <a href="{% url 'category_list' %}"><i class="fa fa-diamond"></i> <span
                class="nav-label">分类管理</span></a>
    </li>

    <li>
        <a href="{% url 'series_list' %}"><i class="fa fa-server"></i> <span
                class="nav-label">系列管理</span></a>
    </li>
{% endblock %}


{% block main %}
    <h1>文章列表</h1>
    <a class="btn btn-primary btn-sm" href="{% url "article_add" %}"><i class="fa fa-plus"></i></a>

    <table class="table table-bordered table-hover tab-content">
        <thead>
        <tr>
            <th>序号</th>
            <th>id</th>
            <th>标题</th>
            <th>分类</th>
            <th>创建时间</th>
            {#            <th>发布状态</th>#}
            <th>发布状态2</th>
            <th>操作</th>
            <th>删除</th>
        </tr>
        </thead>
        <tbody>
        {% for article in all_article %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ article.id }}</td>
                <td>{{ article.title }}</td>
                <td>{{ article.category.title|default:"未分类" }}</td>
                <td>{{ article.create_time }}</td>
                {# <td>{{ article.get_publish_status_display }}</td>#}
                {# choise参数，获取到对应的值的方法在模板中方法没有括号 #}
                <td>{{ article.show_publisher }}</td>
                {#                <td><a href="{% url "article_edit" article.id %}?url={{ request.get_full_path }}"><i class="fa fa-edit fa-2x"></i></a></td>#}
                {% load mytags %}
                <td><a href="{% reverse_url request "article_edit" article.id %}"><i class="fa fa-edit fa-2x"></i></a>
                </td>
                <td><a href="{% url "article_delete" article.id %}"><i class="fa fa-trash-o fa-2x"></i></a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {{ page_html|safe }}

{% endblock %}